<div class="container-fluid">
    <h2>Employee Details Form</h2>

    <form #employeeForm="ngForm" *ngIf="!submitted" (ngSubmit)="onSubmit()" novalidate>

        <div class="form-group">
            <label>Name</label>
            <input type="text" #name="ngModel" required pattern="[A-Za-z.]{3,50}" class="form-control"
                [class.is-invalid]="name.invalid && name.touched" name="name" [(ngModel)]="employeeModel.name">
            <div *ngIf="name.errors && name.invalid && name.touched">
                <small class="text-danger" *ngIf="name.errors.required">Name is required</small>
                <small class="text-danger" *ngIf="name.errors.pattern">Name must have only letters and should be atleast 3 characters long.</small>
            </div>
        </div>


        <div ngModelGroup="address">

            <div class="form-group">
                <label>Street</label>
                <input type="text" name="street" #street="ngModel" required pattern="[A-za-z0-9.,/ ]{5,80}"
                    class="form-control" [class.is-invalid]="street.invalid && street.touched"
                    [(ngModel)]="employeeModel.address.street">
                <div *ngIf="street.errors && street.invalid && street.touched">
                    <small class="text-danger" *ngIf="street.errors.required">Street is required</small>
                    <small class="text-danger" *ngIf="street.errors.pattern">Street should be atleast 5 characters long. 
                        Street must have only letters, numbers, spaces and special characters('/', '.' and ',').</small>
                </div>
            </div>

            <div class="form-group">
                <label>City</label>
                <input type="text" #city="ngModel" required pattern="[A-Za-z.]{3,50}" class="form-control"
                    [class.is-invalid]="city.invalid && city.touched" name="city" [(ngModel)]="employeeModel.address.city">
                <div *ngIf="city.errors && city.invalid && city.touched">
                    <small class="text-danger" *ngIf="city.errors.required">City is required</small>
                    <small class="text-danger" *ngIf="city.errors.pattern">City should have only letters and should be atlest 3 characters long</small>
                </div>
            </div>

            <div class="form-group">
                <label>Pin Code</label>
                <input type="number" #pincode="ngModel" required pattern="^\d{6}$" class="form-control"
                    [class.is-invalid]="pincode.invalid && pincode.touched" name="pincode"
                    [(ngModel)]="employeeModel.address.pincode">
                <div *ngIf="pincode.errors && pincode.invalid && pincode.touched">
                    <small class="text-danger" *ngIf="pincode.errors.required">Pincode is required</small>
                    <small class="text-danger" *ngIf="pincode.errors.pattern">Pincode must be 6 digits</small>
                </div>
            </div>

        </div>

        <div class="form-group">
            <label>Phone</label>
            <input type="tel" #phone="ngModel" required pattern="^\d{10}$" class="form-control"
                [class.is-invalid]="phone.invalid && phone.touched" name="phone" [(ngModel)]="employeeModel.phone">
            <div *ngIf="phone.errors && (phone.invalid && phone.touched)">
                <small class="text-danger" *ngIf="phone.errors.required">Phone number is required</small>
                <small class="text-danger" *ngIf="phone.errors.pattern">Phone number must be 10 digits</small>
            </div>
        </div>

        <div class="form-group">
            <label>DOB</label>
            <input type="date" #dob="ngModel" required max="{{minAge | date:'yyyy-MM-dd'}}" class="form-control"
                [class.is-invalid]="dob.invalid && dob.touched" name="dob" [(ngModel)]="employeeModel.dob">
            <div *ngIf="dob.errors && dob.invalid && dob.touched">
                <small class="text-danger" *ngIf="dob.errors.required">DOB is required</small>
                <small class="text-danger" *ngIf="dob.errors.max">Employee age should be greater than 18 years</small>
            </div>
        </div>


        <div class="form-group">
            <label>Email</label>
            <input type="email" #email="ngModel" required pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$"
                class="form-control" [class.is-invalid]="email.invalid && email.touched" name="email"
                [(ngModel)]="employeeModel.email">
            <div *ngIf="email.errors && email.invalid && email.touched">
                <small class="text-danger" *ngIf="email.errors.required">Email is required</small>
                <small class="text-danger" *ngIf="email.errors.pattern">Email is invalid</small>
            </div>
        </div>

        <button class="btn btn-primary" style="margin-right: 10px;" [disabled]="employeeForm.form.invalid" type="submit">Submit form</button>
        <button class="btn btn-danger" type="reset">Reset form</button>

    </form>

</div>